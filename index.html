<!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01//EN" "http://www.w3.org/TR/html4/strict.dtd">
<html>
<head>
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8">
  <meta http-equiv="Content-Style-Type" content="text/css">
  <title></title>
  <meta name="Generator" content="Cocoa HTML Writer">
  <meta name="CocoaVersion" content="2575.7">
  <style type="text/css">
    p.p1 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica}
    p.p2 {margin: 0.0px 0.0px 0.0px 0.0px; font: 12.0px Helvetica; min-height: 14.0px}
  </style>
</head>
<body>
<p class="p1">&lt;!DOCTYPE html&gt;</p>
<p class="p1">&lt;html lang="zh-TW"&gt;</p>
<p class="p1">&lt;head&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;meta charset="UTF-8"&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;meta name="viewport" content="width=device-width, initial-scale=1.0"&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;title&gt;運動資訊統整器&lt;/title&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;script src="https://cdn.tailwindcss.com"&gt;&lt;/script&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;script src="https://unpkg.com/lucide@latest"&gt;&lt;/script&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;style&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>@import url('https://fonts.googleapis.com/css2?family=Noto+Sans+TC:wght@400;500;700&amp;display=swap');</p>
<p class="p1"><span class="Apple-converted-space">        </span>body {</p>
<p class="p1"><span class="Apple-converted-space">            </span>font-family: 'Noto Sans TC', sans-serif;</p>
<p class="p1"><span class="Apple-converted-space">            </span>background-color: #f3f4f6;</p>
<p class="p1"><span class="Apple-converted-space">            </span>padding-bottom: 80px;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.active-tab { color: #2563eb; }</p>
<p class="p1"><span class="Apple-converted-space">        </span>.hidden { display: none; }</p>
<p class="p1"><span class="Apple-converted-space">        </span>.calendar-dot { height: 6px; width: 6px; border-radius: 50%; display: inline-block; margin-top: 4px; }</p>
<p class="p1"><span class="Apple-converted-space">        </span>/* 橘色：訓練，綠色：比賽 */</p>
<p class="p1"><span class="Apple-converted-space">        </span>.bg-training { background-color: #f97316; }</p>
<p class="p1"><span class="Apple-converted-space">        </span>.bg-match { background-color: #22c55e; }</p>
<p class="p1"><span class="Apple-converted-space">        </span>.text-training { color: #f97316; }</p>
<p class="p1"><span class="Apple-converted-space">        </span>.text-match { color: #22c55e; }</p>
<p class="p2"><span class="Apple-converted-space">        </span></p>
<p class="p1"><span class="Apple-converted-space">        </span>.day-card {</p>
<p class="p1"><span class="Apple-converted-space">            </span>transition: all 0.2s;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.day-active {</p>
<p class="p1"><span class="Apple-converted-space">            </span>border-color: #2563eb;</p>
<p class="p1"><span class="Apple-converted-space">            </span>background-color: #eff6ff;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>.animate-fade-in {</p>
<p class="p1"><span class="Apple-converted-space">            </span>animation: fadeIn 0.4s ease-out;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>@keyframes fadeIn {</p>
<p class="p1"><span class="Apple-converted-space">            </span>from { opacity: 0; transform: translateY(10px); }</p>
<p class="p1"><span class="Apple-converted-space">            </span>to { opacity: 1; transform: translateY(0); }</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/style&gt;</p>
<p class="p1">&lt;/head&gt;</p>
<p class="p1">&lt;body&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;!-- App Header --&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;header class="bg-blue-600 text-white p-4 sticky top-0 z-10 shadow-md flex justify-between items-center"&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div class="w-6"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;h1 id="page-title" class="text-xl font-bold text-center"&gt;總覽&lt;/h1&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;div class="w-6"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/header&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;main class="p-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;!-- 1. 總覽 (Overview) --&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;section id="section-overview" class="space-y-6"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;!-- 週曆區塊 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div class="bg-white rounded-xl p-4 shadow-sm"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;h2 class="font-bold mb-4 flex items-center justify-between"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;span class="flex items-center"&gt;&lt;i data-lucide="calendar" class="w-5 h-5 mr-2 text-blue-600"&gt;&lt;/i&gt; 本週賽訓簡覽&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;span id="current-month" class="text-sm text-gray-500 font-normal"&gt;&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/h2&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="grid grid-cols-7 gap-1 text-center" id="week-calendar-grid"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;!-- 動態生成週曆 --&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="mt-4 flex space-x-4 text-xs justify-center border-t pt-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;span class="flex items-center"&gt;&lt;span class="w-3 h-3 bg-training rounded-full mr-1"&gt;&lt;/span&gt; 球隊訓練&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;span class="flex items-center"&gt;&lt;span class="w-3 h-3 bg-match rounded-full mr-1"&gt;&lt;/span&gt; 比賽賽程&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;!-- 待完成自主訓練 (New Section) --&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div class="bg-white rounded-xl p-4 shadow-sm border-l-4 border-blue-400"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;h2 class="font-bold mb-3 flex items-center"&gt;&lt;i data-lucide="clipboard-list" class="w-4 h-4 mr-2 text-blue-500"&gt;&lt;/i&gt; 待完成自主訓練&lt;/h2&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div id="pending-self-training" class="space-y-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;p class="text-gray-400 text-sm italic text-center py-2"&gt;目前沒有進行中的自主訓練&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div class="bg-white rounded-xl p-4 shadow-sm"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;h2 class="font-bold mb-3 flex items-center"&gt;&lt;i data-lucide="trending-up" class="w-4 h-4 mr-2 text-red-500"&gt;&lt;/i&gt; 未來三場賽程&lt;/h2&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div id="upcoming-matches" class="space-y-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;p class="text-gray-400 text-sm italic text-center py-2"&gt;目前尚無預定賽程&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div class="bg-white rounded-xl p-4 shadow-sm"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;h2 class="font-bold mb-3 flex items-center"&gt;&lt;i data-lucide="history" class="w-4 h-4 mr-2 text-orange-500"&gt;&lt;/i&gt; 最近訓練日期&lt;/h2&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;ul id="recent-training" class="space-y-2 text-sm text-gray-600"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;p class="text-gray-400 italic text-sm text-center py-2"&gt;尚無訓練紀錄&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/ul&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/section&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;!-- 2. 球隊訓練 (Team Training) --&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;section id="section-team" class="hidden space-y-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div class="bg-white rounded-xl p-4 shadow-sm"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;h3 class="font-bold mb-4 text-orange-600"&gt;新增訓練計畫&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="space-y-3"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;input type="date" id="team-date" class="w-full border rounded-lg p-2 focus:ring-2 focus:ring-orange-500 outline-none"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;input type="time" id="team-time" class="w-full border rounded-lg p-2 focus:ring-2 focus:ring-orange-500 outline-none"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;input type="text" id="team-location" placeholder="訓練地點 (例: 天母棒球場)" class="w-full border rounded-lg p-2 focus:ring-2 focus:ring-orange-500 outline-none"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;button onclick="addTeamTraining()" class="w-full bg-orange-500 text-white py-3 rounded-lg font-bold shadow-lg active:scale-95 transition-transform"&gt;發布訓練通知&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div id="team-list" class="space-y-3"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/section&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;!-- 3. 比賽賽程 (Matches) --&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;section id="section-match" class="hidden space-y-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div class="bg-white rounded-xl p-4 shadow-sm"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;h3 class="font-bold mb-4 text-green-600"&gt;新增比賽資訊&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="space-y-3 text-sm"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;input type="date" id="match-date" class="w-full border rounded-lg p-2 focus:ring-2 focus:ring-green-500 outline-none"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;input type="time" id="match-time" class="w-full border rounded-lg p-2 focus:ring-2 focus:ring-green-500 outline-none"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;input type="text" id="match-location" placeholder="比賽地點" class="w-full border rounded-lg p-2 focus:ring-2 focus:ring-green-500 outline-none"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;input type="text" id="match-opponent" placeholder="對戰對手球隊名稱" class="w-full border rounded-lg p-2 focus:ring-2 focus:ring-green-500 outline-none"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;button onclick="addMatch()" class="w-full bg-green-600 text-white py-3 rounded-lg font-bold shadow-lg active:scale-95 transition-transform"&gt;儲存比賽行程&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div id="match-list" class="space-y-3"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/section&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;!-- 4. 自主訓練 (Self Training) --&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;section id="section-self" class="hidden space-y-4"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div class="bg-white rounded-xl p-4 shadow-sm"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;h3 class="font-bold mb-2 text-blue-600"&gt;上傳訓練課表圖片&lt;/h3&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;p class="text-xs text-gray-500 mb-4 font-normal"&gt;AI 將分析課表並列出 (一) 至 (六) 項訓練清單&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;input type="file" id="self-upload" accept="image/*" class="hidden" onchange="processTrainingImage(event)"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;label for="self-upload" class="flex flex-col items-center justify-center border-2 border-dashed border-gray-300 rounded-xl p-6 cursor-pointer hover:bg-gray-50 transition-colors"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;i data-lucide="image-plus" class="w-10 h-10 text-gray-400 mb-2"&gt;&lt;/i&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;span class="text-sm text-gray-600 font-medium"&gt;點擊上傳課表照片&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div id="ai-loading" class="hidden flex items-center justify-center p-4 bg-blue-50 rounded-xl"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="animate-spin rounded-full h-6 w-6 border-b-2 border-blue-600"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;span class="ml-3 text-sm text-blue-700 font-medium font-bold"&gt;AI 正在辨識訓練項目...&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;/div&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;div id="self-training-records" class="space-y-4"&gt;&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/section&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/main&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;!-- Bottom Navigation --&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;nav class="fixed bottom-0 left-0 right-0 bg-white border-t flex justify-around items-center py-3 shadow-[0_-4px_10px_rgba(0,0,0,0.05)] z-20"&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;button onclick="switchTab('overview')" id="nav-overview" class="flex flex-col items-center active-tab"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;i data-lucide="layout-dashboard" class="w-6 h-6"&gt;&lt;/i&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;span class="text-[10px] mt-1 font-bold"&gt;總覽&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;button onclick="switchTab('team')" id="nav-team" class="flex flex-col items-center text-gray-400"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;i data-lucide="users" class="w-6 h-6"&gt;&lt;/i&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;span class="text-[10px] mt-1 font-bold"&gt;球隊訓練&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;button onclick="switchTab('match')" id="nav-match" class="flex flex-col items-center text-gray-400"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;i data-lucide="trophy" class="w-6 h-6"&gt;&lt;/i&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;span class="text-[10px] mt-1 font-bold"&gt;比賽賽程&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;button onclick="switchTab('self')" id="nav-self" class="flex flex-col items-center text-gray-400"&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;i data-lucide="dumbbell" class="w-6 h-6"&gt;&lt;/i&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>&lt;span class="text-[10px] mt-1 font-bold"&gt;自主訓練&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>&lt;/button&gt;</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/nav&gt;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;script&gt;</p>
<p class="p1"><span class="Apple-converted-space">        </span>// --- 狀態管理 ---</p>
<p class="p1"><span class="Apple-converted-space">        </span>let teamSessions = [];</p>
<p class="p1"><span class="Apple-converted-space">        </span>let matches = [];</p>
<p class="p1"><span class="Apple-converted-space">        </span>let latestSelfTraining = null; // 儲存最新一次自主訓練的狀態</p>
<p class="p1"><span class="Apple-converted-space">        </span>const apiKey = "";<span class="Apple-converted-space"> </span></p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// --- 初始化 ---</p>
<p class="p1"><span class="Apple-converted-space">        </span>window.onload = () =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">            </span>lucide.createIcons();</p>
<p class="p1"><span class="Apple-converted-space">            </span>renderWeekCalendar();</p>
<p class="p1"><span class="Apple-converted-space">            </span>updateOverview();</p>
<p class="p1"><span class="Apple-converted-space">        </span>};</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// --- 導覽切換 ---</p>
<p class="p1"><span class="Apple-converted-space">        </span>function switchTab(tab) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const sections = ['overview', 'team', 'self', 'match'];</p>
<p class="p1"><span class="Apple-converted-space">            </span>const titles = { overview: '總覽', team: '球隊訓練', self: '自主訓練', match: '比賽賽程' };</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>sections.forEach(s =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>document.getElementById(`section-${s}`).classList.add('hidden');</p>
<p class="p1"><span class="Apple-converted-space">                </span>document.getElementById(`nav-${s}`).classList.remove('active-tab', 'text-gray-400');</p>
<p class="p1"><span class="Apple-converted-space">                </span>document.getElementById(`nav-${s}`).classList.add('text-gray-400');</p>
<p class="p1"><span class="Apple-converted-space">            </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>document.getElementById(`section-${tab}`).classList.remove('hidden');</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.getElementById(`nav-${tab}`).classList.add('active-tab');</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.getElementById(`page-title`).innerText = titles[tab];</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>if (tab === 'overview') {</p>
<p class="p1"><span class="Apple-converted-space">                </span>renderWeekCalendar();</p>
<p class="p1"><span class="Apple-converted-space">                </span>updateOverview();</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>lucide.createIcons();</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// --- 工具：Google 地圖連結 ---</p>
<p class="p1"><span class="Apple-converted-space">        </span>function getMapUrl(location) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>return `https://www.google.com/maps/search/?api=1&amp;query=${encodeURIComponent(location)}`;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// --- 功能：球隊訓練 ---</p>
<p class="p1"><span class="Apple-converted-space">        </span>function addTeamTraining() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const date = document.getElementById('team-date').value;</p>
<p class="p1"><span class="Apple-converted-space">            </span>const time = document.getElementById('team-time').value;</p>
<p class="p1"><span class="Apple-converted-space">            </span>const loc = document.getElementById('team-location').value;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>if (!date || !loc) return;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>const session = { id: Date.now(), date, time, location: loc };</p>
<p class="p1"><span class="Apple-converted-space">            </span>teamSessions.unshift(session);</p>
<p class="p1"><span class="Apple-converted-space">            </span>renderTeamList();</p>
<p class="p1"><span class="Apple-converted-space">            </span>renderWeekCalendar();</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>document.getElementById('team-location').value = "";</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.getElementById('team-date').value = "";</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.getElementById('team-time').value = "";</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>function renderTeamList() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const list = document.getElementById('team-list');</p>
<p class="p1"><span class="Apple-converted-space">            </span>list.innerHTML = teamSessions.map(s =&gt; `</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="bg-white rounded-xl p-4 shadow-sm border-l-4 border-orange-500 animate-fade-in"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="flex justify-between items-start"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="text-xs text-gray-500"&gt;${s.date} ${s.time}&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="font-bold text-lg"&gt;${s.location}&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;a href="${getMapUrl(s.location)}" target="_blank" class="text-blue-600 bg-blue-50 p-2 rounded-full"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;i data-lucide="map-pin" class="w-5 h-5"&gt;&lt;/i&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/a&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>`).join('');</p>
<p class="p1"><span class="Apple-converted-space">            </span>lucide.createIcons();</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// --- 功能：比賽賽程 ---</p>
<p class="p1"><span class="Apple-converted-space">        </span>async function fetchTeamInfo(teamName) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>return `來自 ${teamName} 的資訊：該隊目前為該層級的前段班，防守侵略性強。`;</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>async function addMatch() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const date = document.getElementById('match-date').value;</p>
<p class="p1"><span class="Apple-converted-space">            </span>const time = document.getElementById('match-time').value;</p>
<p class="p1"><span class="Apple-converted-space">            </span>const loc = document.getElementById('match-location').value;</p>
<p class="p1"><span class="Apple-converted-space">            </span>const opp = document.getElementById('match-opponent').value;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>if (!date || !opp) return;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>const info = await fetchTeamInfo(opp);</p>
<p class="p1"><span class="Apple-converted-space">            </span>const match = { id: Date.now(), date, time, location: loc, opponent: opp, info };</p>
<p class="p1"><span class="Apple-converted-space">            </span>matches.unshift(match);</p>
<p class="p1"><span class="Apple-converted-space">            </span>renderMatchList();</p>
<p class="p1"><span class="Apple-converted-space">            </span>renderWeekCalendar();</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>document.getElementById('match-opponent').value = "";</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.getElementById('match-date').value = "";</p>
<p class="p1"><span class="Apple-converted-space">            </span>document.getElementById('match-location').value = "";</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>function renderMatchList() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const list = document.getElementById('match-list');</p>
<p class="p1"><span class="Apple-converted-space">            </span>list.innerHTML = matches.map(m =&gt; `</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="bg-white rounded-xl p-4 shadow-sm border-l-4 border-green-500 animate-fade-in"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="flex justify-between items-start mb-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="text-xs text-gray-500"&gt;${m.date} ${m.time}&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;div class="font-bold text-lg text-green-700"&gt;VS ${m.opponent}&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;a href="${getMapUrl(m.location)}" target="_blank" class="text-blue-600 bg-blue-50 p-2 rounded-full"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;i data-lucide="map-pin" class="w-5 h-5"&gt;&lt;/i&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/a&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="text-[11px] bg-gray-50 p-3 rounded-lg border border-gray-100"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;strong class="text-gray-700"&gt;情報：&lt;/strong&gt; ${m.info}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>`).join('');</p>
<p class="p1"><span class="Apple-converted-space">            </span>lucide.createIcons();</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// --- 功能：自主訓練 (AI 分析) ---</p>
<p class="p1"><span class="Apple-converted-space">        </span>async function processTrainingImage(event) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const file = event.target.files[0];</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (!file) return;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>document.getElementById('ai-loading').classList.remove('hidden');</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>const reader = new FileReader();</p>
<p class="p1"><span class="Apple-converted-space">            </span>reader.onload = async (e) =&gt; {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const base64Data = e.target.result.split(',')[1];</p>
<p class="p2"><span class="Apple-converted-space">                </span></p>
<p class="p1"><span class="Apple-converted-space">                </span>try {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const response = await fetch(`https://generativelanguage.googleapis.com/v1beta/models/gemini-2.5-flash-preview-09-2025:generateContent?key=${apiKey}`, {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>method: 'POST',</p>
<p class="p1"><span class="Apple-converted-space">                        </span>headers: { 'Content-Type': 'application/json' },</p>
<p class="p1"><span class="Apple-converted-space">                        </span>body: JSON.stringify({</p>
<p class="p1"><span class="Apple-converted-space">                            </span>contents: [{</p>
<p class="p1"><span class="Apple-converted-space">                                </span>parts: [</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>{ text: "請分析這張訓練課表圖片。請列出訓練日期，並從圖片中擷取出『六個主要訓練項目』。請嚴格按照 (一) 到 (六) 的格式編號這些項目。請以 JSON 回覆：date (字串), summary (字串), items (包含六個字串的陣列)。" },</p>
<p class="p1"><span class="Apple-converted-space">                                    </span>{ inlineData: { mimeType: "image/png", data: base64Data } }</p>
<p class="p1"><span class="Apple-converted-space">                                </span>]</p>
<p class="p1"><span class="Apple-converted-space">                            </span>}],</p>
<p class="p1"><span class="Apple-converted-space">                            </span>generationConfig: { responseMimeType: "application/json" }</p>
<p class="p1"><span class="Apple-converted-space">                        </span>})</p>
<p class="p1"><span class="Apple-converted-space">                    </span>});</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                    </span>const result = await response.json();</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const analysis = JSON.parse(result.candidates[0].content.parts[0].text);</p>
<p class="p2"><span class="Apple-converted-space">                    </span></p>
<p class="p1"><span class="Apple-converted-space">                    </span>// 初始化課表狀態</p>
<p class="p1"><span class="Apple-converted-space">                    </span>latestSelfTraining = {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>date: analysis.date,</p>
<p class="p1"><span class="Apple-converted-space">                        </span>items: analysis.items.slice(0, 6).map((text, idx) =&gt; ({</p>
<p class="p1"><span class="Apple-converted-space">                            </span>id: idx,</p>
<p class="p1"><span class="Apple-converted-space">                            </span>text: text.startsWith(`(${(['一','二','三','四','五','六'])[idx]})`) ? text : `(${(['一','二','三','四','五','六'])[idx]}) ${text}`,</p>
<p class="p1"><span class="Apple-converted-space">                            </span>completed: false</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}))</p>
<p class="p1"><span class="Apple-converted-space">                    </span>};</p>
<p class="p2"><span class="Apple-converted-space">                    </span></p>
<p class="p1"><span class="Apple-converted-space">                    </span>renderSelfTrainingBlock();</p>
<p class="p1"><span class="Apple-converted-space">                </span>} catch (error) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>console.error("AI Analysis failed", error);</p>
<p class="p1"><span class="Apple-converted-space">                    </span>const defaultItems = ["基礎體能與伸展", "專項肌力訓練", "爆發力訓練", "核心穩定練習", "敏捷性與步伐", "恢復性收操"];</p>
<p class="p1"><span class="Apple-converted-space">                    </span>latestSelfTraining = {</p>
<p class="p1"><span class="Apple-converted-space">                        </span>date: new Date().toLocaleDateString('zh-TW'),</p>
<p class="p1"><span class="Apple-converted-space">                        </span>items: defaultItems.map((text, idx) =&gt; ({</p>
<p class="p1"><span class="Apple-converted-space">                            </span>id: idx,</p>
<p class="p1"><span class="Apple-converted-space">                            </span>text: `(${(['一','二','三','四','五','六'])[idx]}) ${text}`,</p>
<p class="p1"><span class="Apple-converted-space">                            </span>completed: false</p>
<p class="p1"><span class="Apple-converted-space">                        </span>}))</p>
<p class="p1"><span class="Apple-converted-space">                    </span>};</p>
<p class="p1"><span class="Apple-converted-space">                    </span>renderSelfTrainingBlock();</p>
<p class="p1"><span class="Apple-converted-space">                </span>} finally {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>document.getElementById('ai-loading').classList.add('hidden');</p>
<p class="p1"><span class="Apple-converted-space">                    </span>event.target.value = '';</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>};</p>
<p class="p1"><span class="Apple-converted-space">            </span>reader.readAsDataURL(file);</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>function toggleTask(id) {</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (!latestSelfTraining) return;</p>
<p class="p1"><span class="Apple-converted-space">            </span>const task = latestSelfTraining.items.find(i =&gt; i.id === id);</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (task) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>task.completed = !task.completed;</p>
<p class="p1"><span class="Apple-converted-space">                </span>renderSelfTrainingBlock();</p>
<p class="p1"><span class="Apple-converted-space">                </span>// 如果目前在總覽，也要更新</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (!document.getElementById('section-overview').classList.contains('hidden')) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>updateOverview();</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>function renderSelfTrainingBlock() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const container = document.getElementById('self-training-records');</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (!latestSelfTraining) return;</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>const html = `</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;div class="bg-white rounded-xl p-4 shadow-sm border-t-4 border-blue-500 animate-fade-in"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="flex justify-between items-center mb-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;h4 class="font-bold text-blue-700"&gt;${latestSelfTraining.date} 訓練進度&lt;/h4&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="space-y-2"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>${latestSelfTraining.items.map(item =&gt; `</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;label class="flex items-center space-x-3 p-3 ${item.completed ? 'bg-gray-100 opacity-60' : 'bg-gray-50'} rounded-lg transition-all"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;input type="checkbox" onchange="toggleTask(${item.id})" ${item.completed ? 'checked' : ''} class="w-5 h-5 rounded border-gray-300 text-blue-600 focus:ring-blue-500"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                                </span>&lt;span class="text-sm font-medium ${item.completed ? 'line-through text-gray-400' : 'text-gray-700'}"&gt;${item.text}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;/label&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>`).join('')}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">            </span>`;</p>
<p class="p1"><span class="Apple-converted-space">            </span>container.innerHTML = html;</p>
<p class="p1"><span class="Apple-converted-space">            </span>lucide.createIcons();</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>// --- 功能：週曆渲染與總覽更新 ---</p>
<p class="p1"><span class="Apple-converted-space">        </span>function renderWeekCalendar() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>const grid = document.getElementById('week-calendar-grid');</p>
<p class="p1"><span class="Apple-converted-space">            </span>const monthLabel = document.getElementById('current-month');</p>
<p class="p1"><span class="Apple-converted-space">            </span>grid.innerHTML = "";</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>const today = new Date();</p>
<p class="p1"><span class="Apple-converted-space">            </span>const currentDay = today.getDay();</p>
<p class="p1"><span class="Apple-converted-space">            </span>const startOfWeek = new Date(today);</p>
<p class="p1"><span class="Apple-converted-space">            </span>startOfWeek.setDate(today.getDate() - currentDay);</p>
<p class="p2"><span class="Apple-converted-space">            </span></p>
<p class="p1"><span class="Apple-converted-space">            </span>monthLabel.innerText = `${startOfWeek.getFullYear()} / ${startOfWeek.getMonth() + 1}月`;</p>
<p class="p1"><span class="Apple-converted-space">            </span>const dayNames = ['日', '一', '二', '三', '四', '五', '六'];</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>for (let i = 0; i &lt; 7; i++) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const day = new Date(startOfWeek);</p>
<p class="p1"><span class="Apple-converted-space">                </span>day.setDate(startOfWeek.getDate() + i);</p>
<p class="p1"><span class="Apple-converted-space">                </span>const dateStr = `${day.getFullYear()}-${String(day.getMonth() + 1).padStart(2, '0')}-${String(day.getDate()).padStart(2, '0')}`;</p>
<p class="p1"><span class="Apple-converted-space">                </span>const hasTeam = teamSessions.some(s =&gt; s.date === dateStr);</p>
<p class="p1"><span class="Apple-converted-space">                </span>const hasMatch = matches.some(m =&gt; m.date === dateStr);</p>
<p class="p1"><span class="Apple-converted-space">                </span>const isToday = day.toDateString() === today.toDateString();</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">                </span>grid.innerHTML += `</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="day-card flex flex-col items-center p-2 rounded-xl border ${isToday ? 'day-active border-blue-200' : 'border-transparent'}"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span class="text-[10px] text-gray-400 mb-1 font-bold"&gt;${dayNames[i]}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span class="text-sm font-bold ${isToday ? 'text-blue-600' : 'text-gray-700'}"&gt;${day.getDate()}&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="flex flex-col gap-1 mt-1"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>${hasTeam ? '&lt;div class="calendar-dot bg-training"&gt;&lt;/div&gt;' : '&lt;div class="h-[6px]"&gt;&lt;/div&gt;'}</p>
<p class="p1"><span class="Apple-converted-space">                            </span>${hasMatch ? '&lt;div class="calendar-dot bg-match"&gt;&lt;/div&gt;' : '&lt;div class="h-[6px]"&gt;&lt;/div&gt;'}</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>`;</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">        </span>function updateOverview() {</p>
<p class="p1"><span class="Apple-converted-space">            </span>// 1. 更新待完成自主訓練</p>
<p class="p1"><span class="Apple-converted-space">            </span>const pendingContainer = document.getElementById('pending-self-training');</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (latestSelfTraining) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>const pendingTasks = latestSelfTraining.items.filter(i =&gt; !i.completed);</p>
<p class="p1"><span class="Apple-converted-space">                </span>if (pendingTasks.length &gt; 0) {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>pendingContainer.innerHTML = pendingTasks.map(task =&gt; `</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="flex items-center text-sm p-2 bg-blue-50 rounded-lg text-blue-800 font-medium animate-fade-in"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;i data-lucide="circle" class="w-3 h-3 mr-2 text-blue-400"&gt;&lt;/i&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>${task.text}</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>`).join('');</p>
<p class="p1"><span class="Apple-converted-space">                </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                    </span>pendingContainer.innerHTML = `</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;div class="flex flex-col items-center py-2 animate-fade-in"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;i data-lucide="check-circle-2" class="w-8 h-8 text-green-500 mb-1"&gt;&lt;/i&gt;</p>
<p class="p1"><span class="Apple-converted-space">                            </span>&lt;p class="text-green-600 text-sm font-bold"&gt;今日課表已全數完成！&lt;/p&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>`;</p>
<p class="p1"><span class="Apple-converted-space">                </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 2. 更新比賽</p>
<p class="p1"><span class="Apple-converted-space">            </span>const matchBrief = document.getElementById('upcoming-matches');</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (matches.length &gt; 0) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>matchBrief.innerHTML = matches.slice(0, 3).map(m =&gt; `</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;div class="flex justify-between items-center border-b border-gray-50 pb-2 text-sm animate-fade-in"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span class="font-medium"&gt;${m.date} &lt;b class="text-green-600 ml-1"&gt;VS ${m.opponent}&lt;/b&gt;&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;i data-lucide="chevron-right" class="w-4 h-4 text-gray-300"&gt;&lt;/i&gt;</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/div&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>`).join('');</p>
<p class="p1"><span class="Apple-converted-space">            </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                </span>matchBrief.innerHTML = '&lt;p class="text-gray-400 text-sm italic text-center py-2"&gt;目前尚無預定賽程&lt;/p&gt;';</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p2"><br></p>
<p class="p1"><span class="Apple-converted-space">            </span>// 3. 更新最近訓練日期</p>
<p class="p1"><span class="Apple-converted-space">            </span>const trainBrief = document.getElementById('recent-training');</p>
<p class="p1"><span class="Apple-converted-space">            </span>if (teamSessions.length &gt; 0) {</p>
<p class="p1"><span class="Apple-converted-space">                </span>trainBrief.innerHTML = teamSessions.slice(0, 3).map(s =&gt; `</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;li class="flex items-center text-gray-600 py-1 font-medium animate-fade-in"&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>&lt;span class="w-2 h-2 bg-orange-500 rounded-full mr-3"&gt;&lt;/span&gt;</p>
<p class="p1"><span class="Apple-converted-space">                        </span>${s.date.split('-').slice(1).join('/')} - ${s.location}</p>
<p class="p1"><span class="Apple-converted-space">                    </span>&lt;/li&gt;</p>
<p class="p1"><span class="Apple-converted-space">                </span>`).join('');</p>
<p class="p1"><span class="Apple-converted-space">            </span>} else {</p>
<p class="p1"><span class="Apple-converted-space">                </span>trainBrief.innerHTML = '&lt;p class="text-gray-400 italic text-sm text-center py-2"&gt;尚無訓練紀錄&lt;/p&gt;';</p>
<p class="p1"><span class="Apple-converted-space">            </span>}</p>
<p class="p1"><span class="Apple-converted-space">            </span>lucide.createIcons();</p>
<p class="p1"><span class="Apple-converted-space">        </span>}</p>
<p class="p1"><span class="Apple-converted-space">    </span>&lt;/script&gt;</p>
<p class="p1">&lt;/body&gt;</p>
<p class="p1">&lt;/html&gt;</p>
</body>
</html>
